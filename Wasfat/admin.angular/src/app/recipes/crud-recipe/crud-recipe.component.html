<form [formGroup]="formGroup">
  <h3>{{ isEditMode ? 'Edit Recipe' : 'New Recipe' }}</h3>

  <mat-form-field appearance="outline">
    <mat-label>Recipe Name</mat-label>
    <input matInput formControlName="name" required>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Description</mat-label>
    <textarea matInput formControlName="description"></textarea>
  </mat-form-field>

  <h4>Instructions</h4>
  <div formArrayName="instructions">
    <div *ngFor="let instruction of instructions.controls; let i = index" [formGroupName]="i">
      <mat-form-field appearance="outline">
        <mat-label>Step {{ i + 1 }}</mat-label>
        <input matInput formControlName="text" required>
      </mat-form-field>
      <button mat-button color="warn" (click)="removeInstruction(i)">Remove</button>
    </div>
  </div>

  <button mat-button color="primary" (click)="addInstruction()">Add Instruction</button>

  <div>
    <button mat-stroked-button (click)="cancel()">Cancel</button>
    <button mat-flat-button color="primary" (click)="save()">Save</button>
  </div>
</form>